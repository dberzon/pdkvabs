#N canvas 311 209 1488 868 12;
#X obj 253 643 moses 0, f 22;
#X text 423 422 first \, following;
#X obj 278 401 t a a;
#X obj 232 752 list;
#X obj 282 444 unpack f f;
#X msg 253 668 bang;
#X text 109 820 if pitch not found \, insert pair as new line;
#X text 490 819 else insert 2nd elt at end of found line;
#X obj 265 253 t f b f;
#X text 352 271 output [last \, new] \, put new in last;
#X msg 638 114 bang;
#X msg 775 159 clear;
#X obj 279 324 pack f f;
#X msg 635 713 -1;
#X obj 450 657 t f f b, f 30;
#X obj 435 730 list append;
#X obj 249 42 inlet;
#X obj 232 777 text insert \$0-markov_list;
#X obj 439 688 text get \$0-markov_list;
#X obj 475 784 text set \$0-markov_list;
#X obj 657 20 inlet;
#X obj 245 606 text search \$0-markov_list;
#X obj 755 203 text define \$0-markov_list;
#X obj 400 39 inlet;
#X text 654 60 clear;
#X text 316 45 notes;
#X obj 792 30 inlet;
#X text 852 27 messages;
#X obj 792 80 symbol;
#X msg 792 105 read \$1;
#X obj 792 55 route read write clear open mode, f 49;
#X obj 875 89 symbol;
#X msg 875 114 write \$1;
#X msg 980 95 click;
#X obj 282 469 moses -1e+19;
#X text 439 477 ignore start (-1e+20);
#X msg 370 238 -1e+20;
#X obj 276 290 f -1e+20;
#X text 15 18 dkvmarkov1o - vanilla first-order markov;
#X obj 824 576 text get \$0-markov_list;
#X obj 754 521 text search \$0-markov_list;
#X obj 754 546 moses 0;
#X obj 926 634 list length;
#X obj 900 693 random;
#X obj 782 602 list split 1;
#X obj 851 771 list store;
#X msg 849 739 get \$1 1;
#X obj 851 796 t f f;
#X obj 750 478 f;
#X text 984 519 find entry;
#X text 950 730 choose random elt from;
#X text 955 753 corresponding list;
#X text 944 798 output choice and store for;
#X text 947 821 next iteration;
#X obj 851 821 outlet;
#X obj 887 328 text size \$0-markov_list;
#X obj 826 299 t b b;
#X obj 828 384 random;
#X text 894 300 start off by picking random line;
#X obj 400 64 f \$1;
#X obj 400 89 == 1;
#X obj 260 188 route 0 1;
#X text 457 73 mode 0: analysis;
#X text 461 100 mode 1: generation;
#X obj 249 67 route float;
#X msg 333 123 bang;
#X obj 400 114 sel 1;
#X text 844 243 (when switching to gen mode \, pick initial note);
#X obj 260 163 pack f f;
#X text 460 43 mode;
#X text 880 150 WORK IN PROGRESS: analysis tested;
#X text 886 177 work on generation beginning...;
#X obj 536 19 loadbang;
#X text 22 136 arg: mode;
#X text 13 171 inlets:;
#X text 15 194 notes/bang (in gen mode) \,;
#X text 19 222 mode \, clear \, messages;
#X text 23 318 outlets:;
#X text 25 347 generated markov seq;
#X obj 837 628 t b a a;
#X text 1339 17 derek kwan;
#X text 1351 45 pdkvabs;
#X text 1354 69 gpl v 3 2017;
#X connect 0 0 5 0;
#X connect 0 1 14 0;
#X connect 2 0 4 0;
#X connect 2 1 3 1;
#X connect 3 0 17 0;
#X connect 4 0 34 0;
#X connect 4 1 15 1;
#X connect 5 0 3 0;
#X connect 8 0 37 1;
#X connect 8 1 37 0;
#X connect 8 2 12 1;
#X connect 10 0 36 0;
#X connect 10 0 11 0;
#X connect 11 0 22 0;
#X connect 12 0 2 0;
#X connect 13 0 19 2;
#X connect 14 0 18 0;
#X connect 14 1 19 1;
#X connect 14 2 13 0;
#X connect 15 0 19 0;
#X connect 16 0 64 0;
#X connect 18 0 15 0;
#X connect 20 0 10 0;
#X connect 21 0 0 0;
#X connect 23 0 59 0;
#X connect 26 0 30 0;
#X connect 28 0 29 0;
#X connect 29 0 22 0;
#X connect 30 0 28 0;
#X connect 30 1 31 0;
#X connect 30 2 10 0;
#X connect 30 3 33 0;
#X connect 31 0 32 0;
#X connect 32 0 22 0;
#X connect 33 0 22 0;
#X connect 34 1 21 0;
#X connect 36 0 37 1;
#X connect 37 0 12 0;
#X connect 39 0 44 0;
#X connect 40 0 41 0;
#X connect 41 1 39 0;
#X connect 42 0 43 1;
#X connect 43 0 46 0;
#X connect 44 1 79 0;
#X connect 45 0 47 0;
#X connect 46 0 45 0;
#X connect 47 0 54 0;
#X connect 47 1 48 1;
#X connect 48 0 40 0;
#X connect 55 0 57 1;
#X connect 56 0 57 0;
#X connect 56 1 55 0;
#X connect 57 0 39 0;
#X connect 59 0 60 0;
#X connect 60 0 66 0;
#X connect 61 0 8 0;
#X connect 61 1 48 0;
#X connect 64 0 68 0;
#X connect 64 1 65 0;
#X connect 65 0 48 0;
#X connect 66 0 56 0;
#X connect 66 1 68 1;
#X connect 68 0 61 0;
#X connect 72 0 59 0;
#X connect 79 0 43 0;
#X connect 79 1 45 1;
#X connect 79 2 42 0;
